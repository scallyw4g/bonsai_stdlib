/* Note that the default MagicaVoxel format is AA GG BB RR, so something will
 * have to be done if we continue to load this format.  I manually rearranged
 * the columns in this lookup table to match what OpenGL expects: RR GG BB AA
 */

#define BLACK    0
#define WHITE    1

#define     LIGHT_RED 104
#define           RED 36
#define      DARK_RED 144
#define DARK_DARK_RED 180

#define LIGHT_GREEN 75
#define       GREEN 186

#define ICE_BLUE    207
#define GRASS_GREEN 160
#define SAND        2

#define BLUE 211
#define PINK 27
#define TEAL 181 // actually cyan

#define LIGHT_LIGHT_YELLOW 4
#define       LIGHT_YELLOW 5
#define             YELLOW 6


#define LIGHT_LIGHT_ORANGE 6
#define       LIGHT_ORANGE 12
#define             ORANGE 18
#define        DARK_ORANGE 24



#define      DARK_GREY 254
#define DARK_DARK_GREY 255

#define GREY_0   246
#define GREY_1   247
#define GREY_2   248
#define GREY_3   249
#define GREY_4   250
#define GREY_5   251
#define GREY_6   252
#define GREY_7   253
#define GREY_8   254
#define GREY_9   255


#define STANDING_SPOT_DEFAULT_COLOR 128

#if 1
//  RR GG BB AA
static v3 DefaultPalette[] = {
  V3( 0x01, 0x01, 0x01), // 0
  V3( 0xff, 0xff, 0xff), // 1
  V3( 0xff, 0xff, 0xcc), // 2
  V3( 0xff, 0xff, 0x99), // 3
  V3( 0xff, 0xff, 0x66), // 4
  V3( 0xff, 0xff, 0x33), // 5
  V3( 0xff, 0xff, 0x01), // 6
  V3( 0xff, 0xcc, 0xff), // 7
  V3( 0xff, 0xcc, 0xcc), // 8
  V3( 0xff, 0xcc, 0x99), // 9
  V3( 0xff, 0xcc, 0x66), // 10
  V3( 0xff, 0xcc, 0x33), // 11
  V3( 0xff, 0xcc, 0x01), // 12
  V3( 0xff, 0x99, 0xff), // 13
  V3( 0xff, 0x99, 0xcc), // 14
  V3( 0xff, 0x99, 0x99), // 15
  V3( 0xff, 0x99, 0x66), // 16
  V3( 0xff, 0x99, 0x33), // 17
  V3( 0xff, 0x99, 0x01), // 18
  V3( 0xff, 0x66, 0xff), // 19
  V3( 0xff, 0x66, 0xcc), // 20
  V3( 0xff, 0x66, 0x99), // 21
  V3( 0xff, 0x66, 0x66), // 22
  V3( 0xff, 0x66, 0x33), // 23
  V3( 0xff, 0x66, 0x01), // 24
  V3( 0xff, 0x33, 0xff), // 25
  V3( 0xff, 0x33, 0xcc), // 26
  V3( 0xff, 0x33, 0x99), // 27
  V3( 0xff, 0x33, 0x66), // 28
  V3( 0xff, 0x33, 0x33), // 29
  V3( 0xff, 0x33, 0x01), // 30
  V3( 0xff, 0x01, 0xff), // 31
  V3( 0xff, 0x01, 0xcc), // 32
  V3( 0xff, 0x01, 0x99), // 33
  V3( 0xff, 0x01, 0x66), // 34
  V3( 0xff, 0x01, 0x33), // 35
  V3( 0xff, 0x01, 0x01), // 36
  V3( 0xcc, 0xff, 0xff), // 37
  V3( 0xcc, 0xff, 0xcc), // 38
  V3( 0xcc, 0xff, 0x99), // 39
  V3( 0xcc, 0xff, 0x66), // 40
  V3( 0xcc, 0xff, 0x33), // 41
  V3( 0xcc, 0xff, 0x01), // 42
  V3( 0xcc, 0xcc, 0xff), // 43
  V3( 0xcc, 0xcc, 0xcc), // 44
  V3( 0xcc, 0xcc, 0x99), // 45
  V3( 0xcc, 0xcc, 0x66), // 46
  V3( 0xcc, 0xcc, 0x33), // 47
  V3( 0xcc, 0xcc, 0x01), // 48
  V3( 0xcc, 0x99, 0xff), // 49
  V3( 0xcc, 0x99, 0xcc), // 50
  V3( 0xcc, 0x99, 0x99), // 51
  V3( 0xcc, 0x99, 0x66), // 52
  V3( 0xcc, 0x99, 0x33), // 53
  V3( 0xcc, 0x99, 0x01), // 54
  V3( 0xcc, 0x66, 0xff), // 55
  V3( 0xcc, 0x66, 0xcc), // 56
  V3( 0xcc, 0x66, 0x99), // 57
  V3( 0xcc, 0x66, 0x66), // 58
  V3( 0xcc, 0x66, 0x33), // 59
  V3( 0xcc, 0x66, 0x01), // 60
  V3( 0xcc, 0x33, 0xff), // 61
  V3( 0xcc, 0x33, 0xcc), // 62
  V3( 0xcc, 0x33, 0x99), // 63
  V3( 0xcc, 0x33, 0x66), // 64
  V3( 0xcc, 0x33, 0x33), // 65
  V3( 0xcc, 0x33, 0x01), // 66
  V3( 0xcc, 0x01, 0xff), // 67
  V3( 0xcc, 0x01, 0xcc), // 68
  V3( 0xcc, 0x01, 0x99), // 69
  V3( 0xcc, 0x01, 0x66), // 70
  V3( 0xcc, 0x01, 0x33), // 71
  V3( 0xcc, 0x01, 0x01), // 72
  V3( 0x99, 0xff, 0xff), // 73
  V3( 0x99, 0xff, 0xcc), // 74
  V3( 0x99, 0xff, 0x99), // 75
  V3( 0x99, 0xff, 0x66), // 76
  V3( 0x99, 0xff, 0x33), // 77
  V3( 0x99, 0xff, 0x01), // 78
  V3( 0x99, 0xcc, 0xff), // 79
  V3( 0x99, 0xcc, 0xcc), // 80
  V3( 0x99, 0xcc, 0x99), // 81
  V3( 0x99, 0xcc, 0x66), // 82
  V3( 0x99, 0xcc, 0x33), // 83
  V3( 0x99, 0xcc, 0x01), // 84
  V3( 0x99, 0x99, 0xff), // 85
  V3( 0x99, 0x99, 0xcc), // 86
  V3( 0x99, 0x99, 0x99), // 87
  V3( 0x99, 0x99, 0x66), // 88
  V3( 0x99, 0x99, 0x33), // 89
  V3( 0x99, 0x99, 0x01), // 90
  V3( 0x99, 0x66, 0xff), // 91
  V3( 0x99, 0x66, 0xcc), // 92
  V3( 0x99, 0x66, 0x99), // 93
  V3( 0x99, 0x66, 0x66), // 94
  V3( 0x99, 0x66, 0x33), // 95
  V3( 0x99, 0x66, 0x01), // 96
  V3( 0x99, 0x33, 0xff), // 97
  V3( 0x99, 0x33, 0xcc), // 98
  V3( 0x99, 0x33, 0x99), // 99
  V3( 0x99, 0x33, 0x66), // 100
  V3( 0x99, 0x33, 0x33), // 101
  V3( 0x99, 0x33, 0x01), // 102
  V3( 0x99, 0x01, 0xff), // 103
  V3( 0x99, 0x01, 0xcc), // 104
  V3( 0x99, 0x01, 0x99), // 105
  V3( 0x99, 0x01, 0x66), // 106
  V3( 0x99, 0x01, 0x33), // 107
  V3( 0x99, 0x01, 0x01), // 108
  V3( 0x66, 0xff, 0xff), // 109
  V3( 0x66, 0xff, 0xcc), // 110
  V3( 0x66, 0xff, 0x99), // 111
  V3( 0x66, 0xff, 0x66), // 112
  V3( 0x66, 0xff, 0x33), // 113
  V3( 0x66, 0xff, 0x01), // 114
  V3( 0x66, 0xcc, 0xff), // 115
  V3( 0x66, 0xcc, 0xcc), // 116
  V3( 0x66, 0xcc, 0x99), // 117
  V3( 0x66, 0xcc, 0x66), // 118
  V3( 0x66, 0xcc, 0x33), // 119
  V3( 0x66, 0xcc, 0x01), // 120
  V3( 0x66, 0x99, 0xff), // 121
  V3( 0x66, 0x99, 0xcc), // 122
  V3( 0x66, 0x99, 0x99), // 123
  V3( 0x66, 0x99, 0x66), // 124
  V3( 0x66, 0x99, 0x33), // 125
  V3( 0x66, 0x99, 0x01), // 126
  V3( 0x66, 0x66, 0xff), // 127
  V3( 0x66, 0x66, 0xcc), // 128
  V3( 0x66, 0x66, 0x99), // 129
  V3( 0x66, 0x66, 0x66), // 130
  V3( 0x66, 0x66, 0x33), // 131
  V3( 0x66, 0x66, 0x01), // 132
  V3( 0x66, 0x33, 0xff), // 133
  V3( 0x66, 0x33, 0xcc), // 134
  V3( 0x66, 0x33, 0x99), // 135
  V3( 0x66, 0x33, 0x66), // 136
  V3( 0x66, 0x33, 0x33), // 137
  V3( 0x66, 0x33, 0x01), // 138
  V3( 0x66, 0x01, 0xff), // 139
  V3( 0x66, 0x01, 0xcc), // 140
  V3( 0x66, 0x01, 0x99), // 141
  V3( 0x66, 0x01, 0x66), // 142
  V3( 0x66, 0x01, 0x33), // 143
  V3( 0x66, 0x01, 0x01), // 144
  V3( 0x33, 0xff, 0xff), // 145
  V3( 0x33, 0xff, 0xcc), // 146
  V3( 0x33, 0xff, 0x99), // 147
  V3( 0x33, 0xff, 0x66), // 148
  V3( 0x33, 0xff, 0x33), // 149
  V3( 0x33, 0xff, 0x01), // 150
  V3( 0x33, 0xcc, 0xff), // 151
  V3( 0x33, 0xcc, 0xcc), // 152
  V3( 0x33, 0xcc, 0x99), // 153
  V3( 0x33, 0xcc, 0x66), // 154
  V3( 0x33, 0xcc, 0x33), // 155
  V3( 0x33, 0xcc, 0x01), // 156
  V3( 0x33, 0x99, 0xff), // 157
  V3( 0x33, 0x99, 0xcc), // 158
  V3( 0x33, 0x99, 0x99), // 159
  V3( 0x33, 0x99, 0x66), // 160
  V3( 0x33, 0x99, 0x33), // 161
  V3( 0x33, 0x99, 0x01), // 162
  V3( 0x33, 0x66, 0xff), // 163
  V3( 0x33, 0x66, 0xcc), // 164
  V3( 0x33, 0x66, 0x99), // 165
  V3( 0x33, 0x66, 0x66), // 166
  V3( 0x33, 0x66, 0x33), // 167
  V3( 0x33, 0x66, 0x01), // 168
  V3( 0x33, 0x33, 0xff), // 169
  V3( 0x33, 0x33, 0xcc), // 170
  V3( 0x33, 0x33, 0x99), // 171
  V3( 0x33, 0x33, 0x66), // 172
  V3( 0x33, 0x33, 0x33), // 173
  V3( 0x33, 0x33, 0x01), // 174
  V3( 0x33, 0x01, 0xff), // 175
  V3( 0x33, 0x01, 0xcc), // 176
  V3( 0x33, 0x01, 0x99), // 177
  V3( 0x33, 0x01, 0x66), // 178
  V3( 0x33, 0x01, 0x33), // 179
  V3( 0x33, 0x01, 0x01), // 180
  V3( 0x01, 0xff, 0xff), // 181
  V3( 0x01, 0xff, 0xcc), // 182
  V3( 0x01, 0xff, 0x99), // 183
  V3( 0x01, 0xff, 0x66), // 184
  V3( 0x01, 0xff, 0x33), // 185
  V3( 0x01, 0xff, 0x01), // 186
  V3( 0x01, 0xcc, 0xff), // 187
  V3( 0x01, 0xcc, 0xcc), // 188
  V3( 0x01, 0xcc, 0x99), // 189
  V3( 0x01, 0xcc, 0x66), // 190
  V3( 0x01, 0xcc, 0x33), // 191
  V3( 0x01, 0xcc, 0x01), // 192
  V3( 0x01, 0x99, 0xff), // 193
  V3( 0x01, 0x99, 0xcc), // 194
  V3( 0x01, 0x99, 0x99), // 195
  V3( 0x01, 0x99, 0x66), // 196
  V3( 0x01, 0x99, 0x33), // 197
  V3( 0x01, 0x99, 0x01), // 198
  V3( 0x01, 0x66, 0xff), // 199
  V3( 0x01, 0x66, 0xcc), // 200
  V3( 0x01, 0x66, 0x99), // 201
  V3( 0x01, 0x66, 0x66), // 202
  V3( 0x01, 0x66, 0x33), // 203
  V3( 0x01, 0x66, 0x01), // 204
  V3( 0x01, 0x33, 0xff), // 205
  V3( 0x01, 0x33, 0xcc), // 206
  V3( 0x01, 0x33, 0x99), // 207
  V3( 0x01, 0x33, 0x66), // 208
  V3( 0x01, 0x33, 0x33), // 209
  V3( 0x01, 0x33, 0x01), // 210
  V3( 0x01, 0x01, 0xff), // 211
  V3( 0x01, 0x01, 0xcc), // 212
  V3( 0x01, 0x01, 0x99), // 213
  V3( 0x01, 0x01, 0x66), // 214
  V3( 0x01, 0x01, 0x33), // 215
  V3( 0xee, 0x01, 0x01), // 216
  V3( 0xdd, 0x01, 0x01), // 217
  V3( 0xbb, 0x01, 0x01), // 218
  V3( 0xaa, 0x01, 0x01), // 219
  V3( 0x88, 0x01, 0x01), // 220
  V3( 0x77, 0x01, 0x01), // 221
  V3( 0x55, 0x01, 0x01), // 222
  V3( 0x44, 0x01, 0x01), // 223
  V3( 0x22, 0x01, 0x01), // 224
  V3( 0x11, 0x01, 0x01), // 225
  V3( 0x01, 0xee, 0x01), // 226
  V3( 0x01, 0xdd, 0x01), // 227
  V3( 0x01, 0xbb, 0x01), // 228
  V3( 0x01, 0xaa, 0x01), // 229
  V3( 0x01, 0x88, 0x01), // 230
  V3( 0x01, 0x77, 0x01), // 231
  V3( 0x01, 0x55, 0x01), // 232
  V3( 0x01, 0x44, 0x01), // 233
  V3( 0x01, 0x22, 0x01), // 234
  V3( 0x01, 0x11, 0x01), // 235
  V3( 0x01, 0x01, 0xee), // 236
  V3( 0x01, 0x01, 0xdd), // 237
  V3( 0x01, 0x01, 0xbb), // 238
  V3( 0x01, 0x01, 0xaa), // 239
  V3( 0x01, 0x01, 0x88), // 240
  V3( 0x01, 0x01, 0x77), // 241
  V3( 0x01, 0x01, 0x55), // 242
  V3( 0x01, 0x01, 0x44), // 243
  V3( 0x01, 0x01, 0x22), // 244
  V3( 0x01, 0x01, 0x11), // 245
  V3( 0xee, 0xee, 0xee), // 246
  V3( 0xdd, 0xdd, 0xdd), // 247
  V3( 0xbb, 0xbb, 0xbb), // 248
  V3( 0xaa, 0xaa, 0xaa), // 249
  V3( 0x88, 0x88, 0x88), // 250
  V3( 0x77, 0x77, 0x77), // 251
  V3( 0x55, 0x55, 0x55), // 252
  V3( 0x44, 0x44, 0x44), // 253
  V3( 0x22, 0x22, 0x22), // 254
  V3( 0x11, 0x11, 0x11), // 255
};

#else
//  RR GG BB AA
static v4 DefaultPalette[] = {
  V4(0x00, 0x00, 0x00, 0x00), // 0 BLACK
  V4(0xff, 0xff, 0xff, 0xff), // 1
  V4(0x00, 0x7B, 0x0C, 0xff), // 2 GRASS_GREEN
  V4(0xff, 0x00, 0x00, 0xff), // 3 RED
  V4(0x00, 0x00, 0x66, 0xff), // 4 BLUE
  V4(0xff, 0xcc, 0x00, 0xff), // 5 YELLOW
  V4(0x00, 0x80, 0x80, 0xff), // 6 TEAL
  V4(0xff, 0x33, 0x99, 0xff), // 7 PINK
  V4(0xff, 0x99, 0x00, 0xff), // 8
  V4(0x77, 0x77, 0x77, 0xff), // 9 GREY

  V4(0xff, 0xff, 0x99, 0xff), // 10
  V4(0xff, 0xff, 0x66, 0xff), // 11
  V4(0xff, 0xff, 0x33, 0xff), // 12
  V4(0xff, 0xff, 0x00, 0xff), // 13
  V4(0xff, 0xcc, 0xcc, 0xff), // 14
  V4(0xff, 0xcc, 0x99, 0xff), // 15
  V4(0xff, 0xcc, 0x66, 0xff), // 16
  V4(0xff, 0xcc, 0x33, 0xff), // 17
  V4(0xff, 0xcc, 0x00, 0xff), // 18
  V4(0xff, 0x99, 0xff, 0xff), // 19
  V4(0xff, 0x99, 0xcc, 0xff), // 20
  V4(0xff, 0x99, 0x99, 0xff), // 21
  V4(0xff, 0x99, 0x66, 0xff), // 22
  V4(0xff, 0x99, 0x33, 0xff), // 23
  V4(0xff, 0x66, 0xff, 0xff), // 24
  V4(0xff, 0x66, 0xcc, 0xff), // 25
  V4(0xff, 0x66, 0x99, 0xff), // 26
  V4(0xff, 0x66, 0x66, 0xff), // 27
  V4(0xff, 0x66, 0x33, 0xff), // 28
  V4(0xff, 0x66, 0x00, 0xff), // 29
  V4(0xff, 0x33, 0xff, 0xff), // 30
  V4(0xff, 0x33, 0xcc, 0xff), // 31
  V4(0xff, 0x33, 0x66, 0xff), // 32
  V4(0xff, 0x33, 0x33, 0xff), // 33
  V4(0xff, 0x33, 0x00, 0xff), // 34
  V4(0xff, 0x00, 0xff, 0xff), // 35
  V4(0xff, 0x00, 0xcc, 0xff), // 36
  V4(0xff, 0x00, 0x99, 0xff), // 37
  V4(0xff, 0x00, 0x66, 0xff), // 38
  V4(0xff, 0x00, 0x33, 0xff), // 39

  V4(0xcc, 0xff, 0xff, 0xff), // 40
  V4(0xcc, 0xff, 0xcc, 0xff), // 41
  V4(0xcc, 0xff, 0x99, 0xff), // 42
  V4(0xcc, 0xff, 0x66, 0xff), // 43
  V4(0xcc, 0xff, 0x33, 0xff), // 44
  V4(0xcc, 0xff, 0x00, 0xff), // 45
  V4(0xcc, 0xcc, 0xff, 0xff), // 46
  V4(0xcc, 0xcc, 0xcc, 0xff), // 47
  V4(0xcc, 0xcc, 0x99, 0xff), // 48
  V4(0xcc, 0xcc, 0x66, 0xff), // 49
  V4(0xcc, 0xcc, 0x33, 0xff), // 50
  V4(0xcc, 0xcc, 0x00, 0xff), // 51
  V4(0xcc, 0x99, 0xff, 0xff), // 52
  V4(0xcc, 0x99, 0xcc, 0xff), // 53
  V4(0xcc, 0x99, 0x99, 0xff), // 54
  V4(0xcc, 0x99, 0x66, 0xff), // 55
  V4(0xcc, 0x99, 0x33, 0xff), // 56
  V4(0xcc, 0x99, 0x00, 0xff), // 57
  V4(0xcc, 0x66, 0xff, 0xff), // 58
  V4(0xcc, 0x66, 0xcc, 0xff), // 59
  V4(0xcc, 0x66, 0x99, 0xff), // 60
  V4(0xcc, 0x66, 0x66, 0xff), // 61
  V4(0xcc, 0x66, 0x33, 0xff), // 62
  V4(0xcc, 0x66, 0x00, 0xff), // 63
  V4(0xcc, 0x33, 0xff, 0xff), // 64
  V4(0xcc, 0x33, 0xcc, 0xff), // 65
  V4(0xcc, 0x33, 0x99, 0xff), // 66
  V4(0xcc, 0x33, 0x66, 0xff), // 67
  V4(0xcc, 0x33, 0x33, 0xff), // 68
  V4(0xcc, 0x33, 0x00, 0xff), // 69
  V4(0xcc, 0x00, 0xff, 0xff), // 70
  V4(0xcc, 0x00, 0xcc, 0xff), // 71
  V4(0xcc, 0x00, 0x99, 0xff), // 72
  V4(0xcc, 0x00, 0x66, 0xff), // 73
  V4(0xcc, 0x00, 0x33, 0xff), // 74
  V4(0xcc, 0x00, 0x00, 0xff), // 75

  V4(0x99, 0xff, 0xff, 0xff), // 76
  V4(0x99, 0xff, 0xcc, 0xff), // 77
  V4(0x99, 0xff, 0x99, 0xff), // 78 // LIGHTGREEN
  V4(0x99, 0xff, 0x66, 0xff), // 79
  V4(0x99, 0xff, 0x33, 0xff), // 80
  V4(0x99, 0xff, 0x00, 0xff), // 81
  V4(0x99, 0xcc, 0xff, 0xff), // 82
  V4(0x99, 0xcc, 0xcc, 0xff), // 83
  V4(0x99, 0xcc, 0x99, 0xff), // 84
  V4(0x99, 0xcc, 0x66, 0xff), // 85
  V4(0x99, 0xcc, 0x33, 0xff), // 86
  V4(0x99, 0xcc, 0x00, 0xff), // 87
  V4(0x99, 0x99, 0xff, 0xff), // 88
  V4(0x99, 0x99, 0xcc, 0xff), // 89
  V4(0x99, 0x99, 0x99, 0xff), // 90
  V4(0x99, 0x99, 0x66, 0xff), // 91
  V4(0x99, 0x99, 0x33, 0xff), // 92
  V4(0x99, 0x99, 0x00, 0xff), // 93
  V4(0x99, 0x66, 0xff, 0xff), // 94
  V4(0x99, 0x66, 0xcc, 0xff), // 95
  V4(0x99, 0x66, 0x99, 0xff), // 96
  V4(0x99, 0x66, 0x66, 0xff), // 97
  V4(0x99, 0x66, 0x33, 0xff), // 98
  V4(0x99, 0x66, 0x00, 0xff), // 99
  V4(0x99, 0x33, 0xff, 0xff), // 100
  V4(0x99, 0x33, 0xcc, 0xff), // 101
  V4(0x99, 0x33, 0x99, 0xff), // 102
  V4(0x99, 0x33, 0x66, 0xff), // 103
  V4(0x99, 0x33, 0x33, 0xff), // 104
  V4(0x99, 0x33, 0x00, 0xff), // 105
  V4(0x99, 0x00, 0xff, 0xff), // 106
  V4(0x99, 0x00, 0xcc, 0xff), // 107
  V4(0x99, 0x00, 0x99, 0xff), // 108
  V4(0x99, 0x00, 0x66, 0xff), // 109
  V4(0x99, 0x00, 0x33, 0xff), // 110
  V4(0x99, 0x00, 0x00, 0xff), // 111

  V4(0x66, 0xff, 0xff, 0xff), // 112
  V4(0x66, 0xff, 0xcc, 0xff), // 113
  V4(0x66, 0xff, 0x99, 0xff), // 114
  V4(0x66, 0xff, 0x66, 0xff), // 115
  V4(0x66, 0xff, 0x33, 0xff), // 116
  V4(0x66, 0xff, 0x00, 0xff), // 117
  V4(0x66, 0xcc, 0xff, 0xff), // 118
  V4(0x66, 0xcc, 0xcc, 0xff), // 119
  V4(0x66, 0xcc, 0x99, 0xff), // 120
  V4(0x66, 0xcc, 0x66, 0xff), // 121
  V4(0x66, 0xcc, 0x33, 0xff), // 122
  V4(0x66, 0xcc, 0x00, 0xff), // 123
  V4(0x66, 0x99, 0xff, 0xff), // 124
  V4(0x66, 0x99, 0xcc, 0xff), // 125
  V4(0x66, 0x99, 0x99, 0xff), // 126
  V4(0x66, 0x99, 0x66, 0xff), // 127
  V4(0x66, 0x99, 0x33, 0xff), // 128
  V4(0x66, 0x99, 0x00, 0xff), // 129
  V4(0x66, 0x66, 0xff, 0xff), // 130
  V4(0x66, 0x66, 0xcc, 0xff), // 131
  V4(0x66, 0x66, 0x99, 0xff), // 132
  V4(0x66, 0x66, 0x66, 0xff), // 133
  V4(0x66, 0x66, 0x33, 0xff), // 134
  V4(0x66, 0x66, 0x00, 0xff), // 135
  V4(0x66, 0x33, 0xff, 0xff), // 136
  V4(0x66, 0x33, 0xcc, 0xff), // 137
  V4(0x66, 0x33, 0x99, 0xff), // 138
  V4(0x66, 0x33, 0x66, 0xff), // 139
  V4(0x66, 0x33, 0x33, 0xff), // 140
  V4(0x66, 0x33, 0x00, 0xff), // 141
  V4(0x66, 0x00, 0xff, 0xff), // 142
  V4(0x66, 0x00, 0xcc, 0xff), // 143
  V4(0x66, 0x00, 0x99, 0xff), // 144
  V4(0x66, 0x00, 0x66, 0xff), // 145
  V4(0x66, 0x00, 0x33, 0xff), // 146
  V4(0x66, 0x00, 0x00, 0xff), // 147

  V4(0x33, 0xff, 0xff, 0xff), // 148
  V4(0x33, 0xff, 0xcc, 0xff), // 149
  V4(0x33, 0xff, 0x99, 0xff), // 150
  V4(0x33, 0xff, 0x66, 0xff), // 151
  V4(0x33, 0xff, 0x33, 0xff), // 152
  V4(0x33, 0xff, 0x00, 0xff), // 153
  V4(0x33, 0xcc, 0xff, 0xff), // 154
  V4(0x33, 0xcc, 0xcc, 0xff), // 155
  V4(0x33, 0xcc, 0x99, 0xff), // 156
  V4(0x33, 0xcc, 0x66, 0xff), // 157
  V4(0x33, 0xcc, 0x33, 0xff), // 158
  V4(0x33, 0xcc, 0x00, 0xff), // 159
  V4(0x33, 0x99, 0xff, 0xff), // 160
  V4(0x33, 0x99, 0xcc, 0xff), // 161
  V4(0x33, 0x99, 0x99, 0xff), // 162
  V4(0x33, 0x99, 0x66, 0xff), // 163
  V4(0x33, 0x99, 0x33, 0xff), // 164
  V4(0x33, 0x99, 0x00, 0xff), // 165
  V4(0x33, 0x66, 0xff, 0xff), // 166
  V4(0x33, 0x66, 0xcc, 0xff), // 167
  V4(0x33, 0x66, 0x99, 0xff), // 168
  V4(0x33, 0x66, 0x66, 0xff), // 169
  V4(0x33, 0x66, 0x33, 0xff), // 170
  V4(0x33, 0x66, 0x00, 0xff), // 171
  V4(0x33, 0x33, 0xff, 0xff), // 172
  V4(0x33, 0x33, 0xcc, 0xff), // 173
  V4(0x33, 0x33, 0x99, 0xff), // 174
  V4(0x33, 0x33, 0x66, 0xff), // 175
  V4(0x33, 0x33, 0x33, 0xff), // 176
  V4(0x33, 0x33, 0x00, 0xff), // 177
  V4(0x33, 0x00, 0xff, 0xff), // 178
  V4(0x33, 0x00, 0xcc, 0xff), // 179
  V4(0x33, 0x00, 0x99, 0xff), // 180
  V4(0x33, 0x00, 0x33, 0xff), // 181
  V4(0x33, 0x00, 0x00, 0xff), // 182

  V4(0x00, 0xff, 0xff, 0xff), // 183
  V4(0x00, 0xff, 0xcc, 0xff), // 184
  V4(0x00, 0xff, 0x99, 0xff), // 185
  V4(0x00, 0xff, 0x66, 0xff), // 186
  V4(0x00, 0xff, 0x33, 0xff), // 187
  V4(0x00, 0xff, 0x00, 0xff), // 188
  V4(0x00, 0xcc, 0xff, 0xff), // 189
  V4(0x00, 0xcc, 0xcc, 0xff), // 190
  V4(0x00, 0xcc, 0x99, 0xff), // 191
  V4(0x00, 0xcc, 0x66, 0xff), // 192
  V4(0x00, 0xcc, 0x33, 0xff), // 193
  V4(0x00, 0xcc, 0x00, 0xff), // 194
  V4(0x00, 0x99, 0xff, 0xff), // 195
  V4(0x00, 0x99, 0xcc, 0xff), // 196
  V4(0x00, 0x99, 0x99, 0xff), // 197
  V4(0x00, 0x99, 0x66, 0xff), // 198
  V4(0x00, 0x99, 0x33, 0xff), // 199
  V4(0x00, 0x99, 0x00, 0xff), // 200
  V4(0x00, 0x66, 0xff, 0xff), // 201
  V4(0x00, 0x66, 0xcc, 0xff), // 202
  V4(0x00, 0x66, 0x99, 0xff), // 203
  V4(0x00, 0x66, 0x66, 0xff), // 204
  V4(0x00, 0x66, 0x33, 0xff), // 205
  V4(0x00, 0x66, 0x00, 0xff), // 206
  V4(0x00, 0x33, 0xff, 0xff), // 207
  V4(0x00, 0x33, 0xcc, 0xff), // 208
  V4(0x00, 0x33, 0x99, 0xff), // 209
  V4(0x00, 0x33, 0x66, 0xff), // 210
  V4(0x00, 0x33, 0x33, 0xff), // 211
  V4(0x00, 0x33, 0x00, 0xff), // 212
  V4(0x00, 0x00, 0xff, 0xff), // 213
  V4(0x00, 0x00, 0xcc, 0xff), // 214
  V4(0x00, 0x00, 0x99, 0xff), // 215
  V4(0x00, 0x00, 0x33, 0xff), // 216

  V4(0xee, 0x00, 0x00, 0xff), // 217
  V4(0xdd, 0x00, 0x00, 0xff), // 218
  V4(0xbb, 0x00, 0x00, 0xff), // 219
  V4(0xaa, 0x00, 0x00, 0xff), // 220
  V4(0x88, 0x00, 0x00, 0xff), // 221
  V4(0x77, 0x00, 0x00, 0xff), // 222
  V4(0x55, 0x00, 0x00, 0xff), // 223
  V4(0x44, 0x00, 0x00, 0xff), // 224
  V4(0x22, 0x00, 0x00, 0xff), // 225
  V4(0x11, 0x00, 0x00, 0xff), // 226

  V4(0x00, 0xee, 0x00, 0xff), // 227
  V4(0x00, 0xdd, 0x00, 0xff), // 228
  V4(0x00, 0xbb, 0x00, 0xff), // 229
  V4(0x00, 0xaa, 0x00, 0xff), // 230
  V4(0x00, 0x88, 0x00, 0xff), // 231
  V4(0x00, 0x77, 0x00, 0xff), // 232
  V4(0x00, 0x55, 0x00, 0xff), // 233
  V4(0x00, 0x44, 0x00, 0xff), // 234
  V4(0x00, 0x22, 0x00, 0xff), // 235
  V4(0x00, 0x11, 0x00, 0xff), // 236
  V4(0x00, 0x00, 0xee, 0xff), // 237
  V4(0x00, 0x00, 0xdd, 0xff), // 238
  V4(0x00, 0x00, 0xbb, 0xff), // 239
  V4(0x00, 0x00, 0xaa, 0xff), // 240
  V4(0x00, 0x00, 0x88, 0xff), // 241
  V4(0x00, 0x00, 0x77, 0xff), // 242
  V4(0x00, 0x00, 0x55, 0xff), // 243
  V4(0x00, 0x00, 0x44, 0xff), // 244
  V4(0x00, 0x00, 0x22, 0xff), // 245
  V4(0x00, 0x00, 0x11, 0xff), // 246

  V4(0xee, 0xee, 0xee, 0xff), // 247 // Greys
  V4(0xdd, 0xdd, 0xdd, 0xff), // 248
  V4(0xbb, 0xbb, 0xbb, 0xff), // 249
  V4(0xaa, 0xaa, 0xaa, 0xff), // 250
  V4(0x88, 0x88, 0x88, 0xff), // 251
  V4(0x55, 0x55, 0x55, 0xff), // 252
  V4(0x44, 0x44, 0x44, 0xff), // 253
  V4(0x22, 0x22, 0x22, 0xff), // 254
  V4(0x11, 0x11, 0x11, 0x11), // 255
};
#endif

CAssert( ArrayCount( DefaultPalette ) <= (0xff+1) );

inline v3
GetColorData(v3 *Src, u32 ColorIndex)
{
  Assert(ColorIndex <= 0xff);
  v3 Result = Src[ColorIndex] / 255.f;
  return Result;
}

inline void
FillArray(v2 Color, v2 *Dest, s32 Count)
{
  for (s32 Index = 0; Index < Count; ++Index) { Dest[Index] = Color; }
}

inline void
FillArray(v3 Color, v3 *Dest, s32 Count)
{
  for (s32 Index = 0; Index < Count; ++Index) { Dest[Index] = Color; }
}

link_internal void
FillColorArray(v3 Color, v3 *Dest, s32 Count)
{
  FillArray(Color, Dest, Count);
}

inline void
FillColorArray(u32 ColorIndex, v3 *Dest, v3 *Src, s32 Count)
{
  FillColorArray(GetColorData(Src, ColorIndex), Dest, Count);
}
